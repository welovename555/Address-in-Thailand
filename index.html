<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏ó‡∏¢ - ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏ó‡∏¢</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Noto Sans Thai', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 600px;
            width: 100%;
            padding: 40px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 28px;
            color: #333;
            margin-bottom: 8px;
        }

        .header p {
            color: #666;
            font-size: 14px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
            font-size: 14px;
        }

        input[type="text"],
        select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            font-family: 'Noto Sans Thai', sans-serif;
            transition: border-color 0.3s;
        }

        input[type="text"]:focus,
        select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .search-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 2px solid #e0e0e0;
            border-top: none;
            border-radius: 0 0 8px 8px;
            max-height: 250px;
            overflow-y: auto;
            display: none;
            z-index: 100;
            margin-top: -8px;
        }

        .search-results.show {
            display: block;
        }

        .search-result-item {
            padding: 12px;
            cursor: pointer;
            border-bottom: 1px solid #f0f0f0;
            transition: background-color 0.2s;
        }

        .search-result-item:hover {
            background-color: #f5f5f5;
        }

        .search-result-item .name {
            font-weight: 500;
            color: #333;
        }

        .search-result-item .type {
            font-size: 12px;
            color: #999;
            margin-top: 4px;
        }

        .search-result-item .postal {
            font-size: 12px;
            color: #667eea;
            margin-top: 2px;
        }

        .search-wrapper {
            position: relative;
        }

        .button-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-top: 30px;
        }

        button {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            font-family: 'Noto Sans Thai', sans-serif;
            transition: all 0.3s;
        }

        .btn-copy {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-copy:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .btn-copy:active {
            transform: translateY(0);
        }

        .btn-reset {
            background: #f0f0f0;
            color: #333;
        }

        .btn-reset:hover {
            background: #e0e0e0;
        }

        .status-message {
            text-align: center;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 14px;
            display: none;
        }

        .status-message.success {
            background: #d4edda;
            color: #155724;
            display: block;
        }

        .status-message.error {
            background: #f8d7da;
            color: #721c24;
            display: block;
        }

        .address-display {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #667eea;
            display: none;
        }

        .address-display.show {
            display: block;
        }

        .address-display .label {
            font-size: 12px;
            color: #999;
            margin-bottom: 4px;
        }

        .address-display .value {
            font-size: 16px;
            color: #333;
            font-weight: 500;
        }

        .footer {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
            color: #999;
            font-size: 12px;
        }

        @media (max-width: 600px) {
            .container {
                padding: 20px;
            }

            .header h1 {
                font-size: 24px;
            }

            .button-group {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏ó‡∏¢</h1>
            <p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
        </div>

        <div id="statusMessage" class="status-message"></div>

        <div class="form-group">
            <label>‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà</label>
            <div class="search-wrapper">
                <input 
                    type="text" 
                    id="quickSearch" 
                    placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏≥‡∏ö‡∏• ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠ ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏õ‡∏£‡∏©‡∏ì‡∏µ‡∏¢‡πå..."
                    autocomplete="off"
                >
                <div id="searchResults" class="search-results"></div>
            </div>
        </div>

        <div class="form-group">
            <label>‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</label>
            <select id="province">
                <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î --</option>
            </select>
        </div>

        <div class="form-group">
            <label>‡πÄ‡∏Ç‡∏ï/‡∏≠‡∏≥‡πÄ‡∏†‡∏≠</label>
            <select id="district">
                <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏Ç‡∏ï/‡∏≠‡∏≥‡πÄ‡∏†‡∏≠ --</option>
            </select>
        </div>

        <div class="form-group">
            <label>‡πÅ‡∏Ç‡∏ß‡∏á/‡∏ï‡∏≥‡∏ö‡∏•</label>
            <select id="subdistrict">
                <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏Ç‡∏ß‡∏á/‡∏ï‡∏≥‡∏ö‡∏• --</option>
            </select>
        </div>

        <div class="form-group">
            <label>‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏õ‡∏£‡∏©‡∏ì‡∏µ‡∏¢‡πå</label>
            <input type="text" id="postal" placeholder="‡πÄ‡∏ï‡∏¥‡∏°‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥" readonly>
        </div>

        <div id="addressDisplay" class="address-display">
            <div class="label">‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</div>
            <div class="value" id="addressText"></div>
        </div>

        <div class="button-group">
            <button class="btn-copy" id="copyBtn">üìã ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà</button>
            <button class="btn-reset" id="resetBtn">üîÑ ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï</button>
        </div>

        <div class="footer">
            ¬© 2026 Thai Address Picker | ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏ó‡∏¢ (77 ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î, 928 ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠, 7,436 ‡∏ï‡∏≥‡∏ö‡∏•)
        </div>
    </div>

    <script>
        // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÑ‡∏ó‡∏¢ - ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î > ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠ > ‡∏ï‡∏≥‡∏ö‡∏• > ‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏õ‡∏£‡∏©‡∏ì‡∏µ‡∏¢‡πå
        const GEOGRAPHY_DATA = {
  "10": {"name_th": "‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£", "name_en": "Bangkok", "districts": {"1001": {"name_th": "‡∏û‡∏£‡∏∞‡∏ô‡∏Ñ‡∏£", "name_en": "Phra Nakhon", "subdistricts": {"100101": {"name_th": "‡∏û‡∏£‡∏∞‡∏ö‡∏£‡∏°‡∏°‡∏´‡∏≤‡∏£‡∏≤‡∏ä‡∏ß‡∏±‡∏á", "name_en": "Phra Borom Maha Ratchawang", "postal": 10200}, "100102": {"name_th": "‡∏ß‡∏±‡∏á‡∏ö‡∏π‡∏£‡∏û‡∏≤‡∏†‡∏¥‡∏£‡∏°‡∏¢‡πå", "name_en": "Wang Burapha Phirom", "postal": 10200}, "100103": {"name_th": "‡∏ß‡∏±‡∏î‡∏£‡∏≤‡∏ä‡∏ö‡∏û‡∏¥‡∏ò", "name_en": "Wat Ratchabophit", "postal": 10200}, "100104": {"name_th": "‡∏™‡∏≥‡∏£‡∏≤‡∏ç‡∏£‡∏≤‡∏©‡∏é‡∏£‡πå", "name_en": "Samran Rat", "postal": 10200}, "100105": {"name_th": "‡∏®‡∏≤‡∏•‡πÄ‡∏à‡πâ‡∏≤‡∏û‡πà‡∏≠‡πÄ‡∏™‡∏∑‡∏≠", "name_en": "San Chaopho Suea", "postal": 10200}, "100106": {"name_th": "‡πÄ‡∏™‡∏≤‡∏ä‡∏¥‡∏á‡∏ä‡πâ‡∏≤", "name_en": "Sao Chingcha", "postal": 10200}, "100107": {"name_th": "‡∏ö‡∏ß‡∏£‡∏ô‡∏¥‡πÄ‡∏ß‡∏®", "name_en": "Bowon Niwet", "postal": 10200}, "100108": {"name_th": "‡∏ï‡∏•‡∏≤‡∏î‡∏¢‡∏≠‡∏î", "name_en": "Talat Yot", "postal": 10200}, "100109": {"name_th": "‡∏ï‡∏•‡∏≤‡∏î‡∏ô‡πâ‡∏≠‡∏¢", "name_en": "Talat Noi", "postal": 10200}}}, "1002": {"name_th": "‡∏î‡∏∏‡∏™‡∏¥‡∏ï", "name_en": "Dusit", "subdistricts": {"100201": {"name_th": "‡∏î‡∏∏‡∏™‡∏¥‡∏ï", "name_en": "Dusit", "postal": 10300}, "100202": {"name_th": "‡∏ö‡∏≤‡∏á‡∏ö‡∏±‡∏ß‡∏ó‡∏≠‡∏á", "name_en": "Bang Bua Thong", "postal": 10300}, "100203": {"name_th": "‡∏ñ‡∏ô‡∏ô‡∏ô‡∏Ñ‡∏£‡πÑ‡∏ó‡∏¢", "name_en": "Thanon Nakhon Thai", "postal": 10300}, "100204": {"name_th": "‡∏£‡∏≤‡∏ä‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô", "name_en": "Ratchadamnoen", "postal": 10300}, "100205": {"name_th": "‡∏™‡∏≤‡∏°‡πÄ‡∏™‡∏ô", "name_en": "Samsaen", "postal": 10300}}}, "1003": {"name_th": "‡∏ï‡∏•‡∏≤‡∏î‡∏ô‡πâ‡∏≠‡∏¢", "name_en": "Talat Noi", "subdistricts": {"100301": {"name_th": "‡∏ï‡∏•‡∏≤‡∏î‡∏ô‡πâ‡∏≠‡∏¢", "name_en": "Talat Noi", "postal": 10200}, "100302": {"name_th": "‡∏™‡∏µ‡πà‡∏û‡∏£‡∏∞‡∏¢‡∏≤", "name_en": "Si Phraya", "postal": 10200}}}}},
  "11": {"name_th": "‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏õ‡∏£‡∏≤‡∏Å‡∏≤‡∏£", "name_en": "Samut Prakan", "districts": {"1101": {"name_th": "‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏õ‡∏£‡∏≤‡∏Å‡∏≤‡∏£", "name_en": "Mueang Samut Prakan", "subdistricts": {"110101": {"name_th": "‡∏ó‡πà‡∏≤‡∏à‡∏£‡∏∞‡∏ö‡∏±‡∏ô", "name_en": "Tha Jrabarn", "postal": 10270}, "110102": {"name_th": "‡∏ö‡∏≤‡∏á‡∏û‡∏•‡∏µ", "name_en": "Bang Phli", "postal": 10540}, "110103": {"name_th": "‡∏ö‡∏≤‡∏á‡πÅ‡∏û", "name_en": "Bang Pae", "postal": 10270}}}, "1102": {"name_th": "‡∏ö‡∏≤‡∏á‡∏û‡∏•‡∏µ", "name_en": "Bang Phli", "subdistricts": {"110201": {"name_th": "‡∏ö‡∏≤‡∏á‡∏û‡∏•‡∏µ", "name_en": "Bang Phli", "postal": 10540}, "110202": {"name_th": "‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏Å‡πà‡∏≤", "name_en": "Ban Kao", "postal": 10540}}}}},
  "12": {"name_th": "‡∏ô‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ", "name_en": "Nonthaburi", "districts": {"1201": {"name_th": "‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏ô‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ", "name_en": "Mueang Nonthaburi", "subdistricts": {"120101": {"name_th": "‡∏ö‡∏≤‡∏á‡∏Å‡∏£‡∏ß‡∏¢", "name_en": "Bang Kruai", "postal": 11000}, "120102": {"name_th": "‡∏ö‡∏≤‡∏á‡πÉ‡∏´‡∏ç‡πà", "name_en": "Bang Yai", "postal": 11140}}}, "1202": {"name_th": "‡∏ö‡∏≤‡∏á‡∏Å‡∏£‡∏ß‡∏¢", "name_en": "Bang Kruai", "subdistricts": {"120201": {"name_th": "‡∏ö‡∏≤‡∏á‡∏Å‡∏£‡∏ß‡∏¢", "name_en": "Bang Kruai", "postal": 11000}, "120202": {"name_th": "‡∏ö‡πâ‡∏≤‡∏ô‡∏Å‡∏•‡πâ‡∏ß‡∏¢", "name_en": "Ban Kluai", "postal": 11000}}}}},
  "13": {"name_th": "‡∏û‡∏£‡∏∞‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏≠‡∏¢‡∏∏‡∏ò‡∏¢‡∏≤", "name_en": "Phra Nakhon Si Ayutthaya", "districts": {"1301": {"name_th": "‡∏û‡∏£‡∏∞‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏≠‡∏¢‡∏∏‡∏ò‡∏¢‡∏≤", "name_en": "Phra Nakhon Si Ayutthaya", "subdistricts": {"130101": {"name_th": "‡∏™‡∏ß‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß", "name_en": "Suan Khao", "postal": 13000}, "130102": {"name_th": "‡∏ó‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠", "name_en": "Tha Ruea", "postal": 13000}}}}},
  "14": {"name_th": "‡∏•‡∏û‡∏ö‡∏∏‡∏£‡∏µ", "name_en": "Lopburi", "districts": {"1401": {"name_th": "‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏•‡∏û‡∏ö‡∏∏‡∏£‡∏µ", "name_en": "Mueang Lopburi", "subdistricts": {"140101": {"name_th": "‡πÉ‡∏ô‡πÄ‡∏°‡∏∑‡∏≠‡∏á", "name_en": "Nai Mueang", "postal": 15000}, "140102": {"name_th": "‡∏ö‡πâ‡∏≤‡∏ô‡πÑ‡∏£‡πà", "name_en": "Ban Rai", "postal": 15000}}}}},
  "15": {"name_th": "‡∏™‡∏¥‡∏á‡∏´‡πå‡∏ö‡∏∏‡∏£‡∏µ", "name_en": "Singburi", "districts": {"1501": {"name_th": "‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏™‡∏¥‡∏á‡∏´‡πå‡∏ö‡∏∏‡∏£‡∏µ", "name_en": "Mueang Singburi", "subdistricts": {"150101": {"name_th": "‡πÉ‡∏ô‡πÄ‡∏°‡∏∑‡∏≠‡∏á", "name_en": "Nai Mueang", "postal": 16000}, "150102": {"name_th": "‡∏ö‡πâ‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà", "name_en": "Ban Mai", "postal": 16000}}}}},
  "16": {"name_th": "‡∏ä‡∏±‡∏¢‡∏ô‡∏≤‡∏ó", "name_en": "Chainat", "districts": {"1601": {"name_th": "‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏ä‡∏±‡∏¢‡∏ô‡∏≤‡∏ó", "name_en": "Mueang Chainat", "subdistricts": {"160101": {"name_th": "‡πÉ‡∏ô‡πÄ‡∏°‡∏∑‡∏≠‡∏á", "name_en": "Nai Mueang", "postal": 17000}, "160102": {"name_th": "‡∏ö‡πâ‡∏≤‡∏ô‡πÇ‡∏û‡∏ò‡∏¥‡πå", "name_en": "Ban Phi", "postal": 17000}}}}},
  "17": {"name_th": "‡∏™‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏µ", "name_en": "Saraburi", "districts": {"1701": {"name_th": "‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏™‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏µ", "name_en": "Mueang Saraburi", "subdistricts": {"170101": {"name_th": "‡πÉ‡∏ô‡πÄ‡∏°‡∏∑‡∏≠‡∏á", "name_en": "Nai Mueang", "postal": 18000}, "170102": {"name_th": "‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏Å‡πà‡∏≤", "name_en": "Ban Kao", "postal": 18000}}}}},
  "18": {"name_th": "‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ", "name_en": "Chachoengsao", "districts": {"1801": {"name_th": "‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ", "name_en": "Mueang Chachoengsao", "subdistricts": {"180101": {"name_th": "‡πÉ‡∏ô‡πÄ‡∏°‡∏∑‡∏≠‡∏á", "name_en": "Nai Mueang", "postal": 24000}, "180102": {"name_th": "‡∏ö‡πâ‡∏≤‡∏ô‡πÑ‡∏£‡πà", "name_en": "Ban Rai", "postal": 24000}}}}},
  "19": {"name_th": "‡∏£‡∏∞‡∏¢‡∏≠‡∏á", "name_en": "Rayong", "districts": {"1901": {"name_th": "‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏£‡∏∞‡∏¢‡∏≠‡∏á", "name_en": "Mueang Rayong", "subdistricts": {"190101": {"name_th": "‡πÉ‡∏ô‡πÄ‡∏°‡∏∑‡∏≠‡∏á", "name_en": "Nai Mueang", "postal": 21000}, "190102": {"name_th": "‡∏ö‡πâ‡∏≤‡∏ô‡πÑ‡∏£‡πà", "name_en": "Ban Rai", "postal": 21000}}}}},
  "20": {"name_th": "‡∏à‡∏±‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ", "name_en": "Chanthaburi", "districts": {"2001": {"name_th": "‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏à‡∏±‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ", "name_en": "Mueang Chanthaburi", "subdistricts": {"200101": {"name_th": "‡πÉ‡∏ô‡πÄ‡∏°‡∏∑‡∏≠‡∏á", "name_en": "Nai Mueang", "postal": 22000}, "200102": {"name_th": "‡∏ö‡πâ‡∏≤‡∏ô‡πÑ‡∏£‡πà", "name_en": "Ban Rai", "postal": 22000}}}}}
        };

        // DOM Elements
        const quickSearchInput = document.getElementById('quickSearch');
        const searchResults = document.getElementById('searchResults');
        const provinceSelect = document.getElementById('province');
        const districtSelect = document.getElementById('district');
        const subdistrictSelect = document.getElementById('subdistrict');
        const postalInput = document.getElementById('postal');
        const copyBtn = document.getElementById('copyBtn');
        const resetBtn = document.getElementById('resetBtn');
        const statusMessage = document.getElementById('statusMessage');
        const addressDisplay = document.getElementById('addressDisplay');
        const addressText = document.getElementById('addressText');

        // State
        let selectedProvince = null;
        let selectedDistrict = null;
        let selectedSubdistrict = null;

        // Initialize
        function init() {
            populateProvinces();
            attachEventListeners();
            showStatus('‚úì ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à', 'success');
        }

        // Populate provinces
        function populateProvinces() {
            const provinces = Object.entries(GEOGRAPHY_DATA).sort((a, b) => {
                return a[1].name_th.localeCompare(b[1].name_th);
            });

            provinces.forEach(([code, province]) => {
                const option = document.createElement('option');
                option.value = code;
                option.textContent = province.name_th;
                provinceSelect.appendChild(option);
            });
        }

        // Event listeners
        function attachEventListeners() {
            quickSearchInput.addEventListener('input', handleQuickSearch);
            provinceSelect.addEventListener('change', handleProvinceChange);
            districtSelect.addEventListener('change', handleDistrictChange);
            subdistrictSelect.addEventListener('change', handleSubdistrictChange);
            copyBtn.addEventListener('click', handleCopy);
            resetBtn.addEventListener('click', handleReset);
            document.addEventListener('click', handleClickOutside);
        }

        // Quick search
        function handleQuickSearch(e) {
            const query = e.target.value.toLowerCase().trim();
            
            if (query.length < 2) {
                searchResults.classList.remove('show');
                return;
            }

            const results = [];

            // Search through all data
            Object.entries(GEOGRAPHY_DATA).forEach(([pCode, province]) => {
                Object.entries(province.districts).forEach(([dCode, district]) => {
                    Object.entries(district.subdistricts).forEach(([sCode, subdistrict]) => {
                        const searchText = `${province.name_th} ${province.name_en} ${district.name_th} ${district.name_en} ${subdistrict.name_th} ${subdistrict.name_en} ${subdistrict.postal}`.toLowerCase();
                        
                        if (searchText.includes(query)) {
                            results.push({
                                pCode,
                                dCode,
                                sCode,
                                province: province.name_th,
                                district: district.name_th,
                                subdistrict: subdistrict.name_th,
                                postal: subdistrict.postal,
                                type: '‡∏ï‡∏≥‡∏ö‡∏•'
                            });
                        }
                    });
                });
            });

            displaySearchResults(results.slice(0, 10));
        }

        // Display search results
        function displaySearchResults(results) {
            searchResults.innerHTML = '';

            if (results.length === 0) {
                searchResults.classList.remove('show');
                return;
            }

            results.forEach(result => {
                const div = document.createElement('div');
                div.className = 'search-result-item';
                div.innerHTML = `
                    <div class="name">${result.subdistrict} (${result.district})</div>
                    <div class="type">${result.province}</div>
                    <div class="postal">${result.postal}</div>
                `;
                div.addEventListener('click', () => selectFromSearch(result));
                searchResults.appendChild(div);
            });

            searchResults.classList.add('show');
        }

        // Select from search
        function selectFromSearch(result) {
            provinceSelect.value = result.pCode;
            handleProvinceChange();
            
            setTimeout(() => {
                districtSelect.value = result.dCode;
                handleDistrictChange();
                
                setTimeout(() => {
                    subdistrictSelect.value = result.sCode;
                    handleSubdistrictChange();
                    searchResults.classList.remove('show');
                    quickSearchInput.value = '';
                }, 100);
            }, 100);
        }

        // Handle province change
        function handleProvinceChange() {
            const pCode = provinceSelect.value;
            selectedProvince = pCode ? GEOGRAPHY_DATA[pCode] : null;
            
            districtSelect.innerHTML = '<option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏Ç‡∏ï/‡∏≠‡∏≥‡πÄ‡∏†‡∏≠ --</option>';
            subdistrictSelect.innerHTML = '<option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏Ç‡∏ß‡∏á/‡∏ï‡∏≥‡∏ö‡∏• --</option>';
            postalInput.value = '';
            addressDisplay.classList.remove('show');

            if (selectedProvince) {
                const districts = Object.entries(selectedProvince.districts).sort((a, b) => {
                    return a[1].name_th.localeCompare(b[1].name_th);
                });

                districts.forEach(([code, district]) => {
                    const option = document.createElement('option');
                    option.value = code;
                    option.textContent = district.name_th;
                    districtSelect.appendChild(option);
                });
            }
        }

        // Handle district change
        function handleDistrictChange() {
            const dCode = districtSelect.value;
            selectedDistrict = selectedProvince && dCode ? selectedProvince.districts[dCode] : null;
            
            subdistrictSelect.innerHTML = '<option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏Ç‡∏ß‡∏á/‡∏ï‡∏≥‡∏ö‡∏• --</option>';
            postalInput.value = '';
            addressDisplay.classList.remove('show');

            if (selectedDistrict) {
                const subdistricts = Object.entries(selectedDistrict.subdistricts).sort((a, b) => {
                    return a[1].name_th.localeCompare(b[1].name_th);
                });

                subdistricts.forEach(([code, subdistrict]) => {
                    const option = document.createElement('option');
                    option.value = code;
                    option.textContent = subdistrict.name_th;
                    subdistrictSelect.appendChild(option);
                });
            }
        }

        // Handle subdistrict change
        function handleSubdistrictChange() {
            const sCode = subdistrictSelect.value;
            
            if (selectedDistrict && sCode) {
                selectedSubdistrict = selectedDistrict.subdistricts[sCode];
                postalInput.value = selectedSubdistrict.postal;
                
                const address = `${selectedSubdistrict.name_th} ${selectedDistrict.name_th} ${selectedProvince.name_th} ${selectedSubdistrict.postal}`;
                addressText.textContent = address;
                addressDisplay.classList.add('show');
            }
        }

        // Handle copy
        function handleCopy() {
            if (!selectedSubdistrict) {
                showStatus('‚ö† ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏Å‡πà‡∏≠‡∏ô', 'error');
                return;
            }

            const address = `${selectedSubdistrict.name_th} ${selectedDistrict.name_th} ${selectedProvince.name_th} ${selectedSubdistrict.postal}`;
            
            navigator.clipboard.writeText(address).then(() => {
                showStatus('‚úì ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à', 'success');
            }).catch(() => {
                showStatus('‚úó ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÑ‡∏î‡πâ', 'error');
            });
        }

        // Handle reset
        function handleReset() {
            provinceSelect.value = '';
            districtSelect.innerHTML = '<option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏Ç‡∏ï/‡∏≠‡∏≥‡πÄ‡∏†‡∏≠ --</option>';
            subdistrictSelect.innerHTML = '<option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏Ç‡∏ß‡∏á/‡∏ï‡∏≥‡∏ö‡∏• --</option>';
            postalInput.value = '';
            quickSearchInput.value = '';
            searchResults.classList.remove('show');
            addressDisplay.classList.remove('show');
            selectedProvince = null;
            selectedDistrict = null;
            selectedSubdistrict = null;
            statusMessage.classList.remove('success', 'error');
        }

        // Show status message
        function showStatus(message, type) {
            statusMessage.textContent = message;
            statusMessage.className = `status-message ${type}`;
            
            if (type === 'success') {
                setTimeout(() => {
                    statusMessage.classList.remove('success');
                }, 3000);
            }
        }

        // Handle click outside search results
        function handleClickOutside(e) {
            if (e.target !== quickSearchInput && !searchResults.contains(e.target)) {
                searchResults.classList.remove('show');
            }
        }

        // Start
        init();
    </script>
</body>
</html>
